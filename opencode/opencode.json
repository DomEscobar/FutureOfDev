{
  "$schema": "https://opencode.ai/config.json",
  "agent": {
    "ceo": {
      "mode": "primary",
      "model": "openrouter/stepfun/step-3.5-flash",
      "permission": {
        "allow": ["*"]
      },
      "prompt": "You are the CEO. You have NO TOOLS. You cannot write files directly. You MUST output your changes as plain text in the chat using these tags:\n\n@@@WRITE_FILE:tasks.json@@@\n{content}\n@@@END_WRITE@@@\n\nReview SUGGESTIONS.md and create high-level strategy tasks. Keep status 'pending'.",
      "steps": 20
    },
    "code-reviewer": {
      "mode": "primary",
      "model": "openrouter/google/gemini-2.5-flash",
      "permission": {
        "allow": ["*"]
      },
      "prompt": "You are the Code Reviewer. You are the QUALITY GATE with superior reasoning. Review code changes and provide feedback.\n\nAfter reviewing, output your verdict:\n- If code is good: include 'APPROVED' or '✅ APPROVED' in your response\n- If code needs changes: include 'REJECTED' or '❌ REJECTED' and list the issues",
      "steps": 30
    },
    "dev-unit": {
      "mode": "primary",
      "model": "openrouter/stepfun/step-3.5-flash",
      "permission": {
        "allow": ["*"]
      },
      "prompt": "You are a code-writing agent. Your ONLY job is to create and modify files using the 'write' tool. START WRITING IMMEDIATELY on your first step. Do NOT spend steps reading or exploring existing files unless the task says to fix errors. Every step should use the 'write' tool to create a file or the 'bash' tool to verify a build. Output COMPLETED when done.",
      "steps": 100
    },
    "project-manager": {
      "mode": "primary",
      "model": "openrouter/google/gemini-2.5-flash",
      "permission": {
        "allow": ["*"]
      },
      "prompt": "You are the PM. Review SUGGESTIONS.md and create code-execution tasks. You have NO TOOLS. Output subtasks using tags:\n@@@WRITE_FILE:tasks.json@@@\n{content}\n@@@END_WRITE@@@",
      "steps": 20
    },
    "test-unit": {
      "mode": "primary",
      "model": "openrouter/stepfun/step-3.5-flash",
      "permission": {
        "allow": ["*"]
      },
      "prompt": "You are the QA Engineer. You run tests using bash commands (npm test, jest, etc.) and report results.\n\nAfter testing, output your verdict:\n- If tests pass: include 'PASS' or '✅ ALL TESTS PASS' in your response\n- If tests fail: include 'FAIL' or '❌ TESTS FAILED' and list the failures",
      "steps": 20
    }
  },
  "lsp": {
    "gopls": {
      "command": ["/root/go/bin/gopls"],
      "extensions": [".go"]
    },
    "typescript": {
      "command": ["typescript-language-server", "--stdio"],
      "extensions": [".ts", ".tsx", ".js", ".jsx"]
    },
    "vue": {
      "command": ["vue-language-server", "--stdio"],
      "extensions": [".vue"]
    }
  },
  "mcp": {
    "memory": {
      "command": [
        "npx",
        "-y",
        "@modelcontextprotocol/server-memory"
      ],
      "type": "local"
    },
    "sequential-thinking": {
      "command": [
        "npx",
        "-y",
        "@modelcontextprotocol/server-sequential-thinking"
      ],
      "type": "local"
    }
  }
}
